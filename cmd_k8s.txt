    1  apt-get update && apt-get install -y apt-transport-https curl
    2  curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
    3  sudo add-apt-repository "deb http://apt.kubernetes.io/ kubernetes-xenial main"
    4  apt-get update
    5  sudo apt-get install -y kubelet kubeadm kubectl kubernetes-cni
    6  systemctl enable kubelet
    7  ip a
    8  vim /etc/hosts
    9  apt-get install bash-completion
   10  echo "source <(kubectl completion bash)" >> ~/.bashrc
   11  source .bashrc 
   12  kubeadm init --apiserver-advertise-address=192.168.56.101  --node-name $HOSTNAME --pod-network-cidr=10.244.0.0/16
   13  mkdir -p $HOME/.kube
   14  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
   15  sudo chown $(id -u):$(id -g) $HOME/.kube/config
   16  ls
   17  ls -a
   18  ls -la
   19  sysctl net.bridge.bridge-nf-call-iptables=1
   20  kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
   21  kubectl edit cm -n kube-system kube-flannel-cfg
   22  kubectl get pod --all-namespaces 
   23  kubectl get pod --all-namespaces  -o wide
   24  kubectl get nodes 
   25  kubectl get nodes  -o wide
   26  kubectl get nodes 
   27  ls
   28  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   29  git clone https://github.com/kubernetes-sigs/metrics-server.git
   30  ls
   31  ls metrics-server/
   32  ls metrics-server/deploy/
   33  rm -rf metrics-server
   34  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   35  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3.git
   36  mkdir deploy_metrics-server
   37  cd deploy_metrics-server/
   38  ls
   39  cd ..
   40  git clone https://github.com/kubernetes-sigs/metrics-server.git
   41  ls
   42  cd metrics-server/
   43  ls
   44  ls -l
   45  cd ..
   46  ls
   47  rm -rf metrics-server/
   48  cd deploy_metrics-server/
   49  ls
   50  touch aggregated-metrics-reader.yaml
   51  touch auth-delegator.yaml
   52  touch auth-reader.yaml
   53  touch metrics-apiservice.yaml
   54  touch metrics-server-deployment.yaml
   55  touch metrics-server-service.yaml
   56  touch resource-reader.yaml
   57  ls -l
   58  vim aggregated-metrics-reader.yaml 
   59  vim auth-delegator.yaml 
   60  vim aggregated-metrics-reader.yaml 
   61  vim auth-reader.yaml 
   62  ls
   63  vim aggregated-metrics-reader.yaml 
   64  vim auth-delegator.yaml 
   65  vim auth-reader.yaml 
   66  ls -l
   67  vim auth-reader.yaml 
   68  vim metrics-apiservice.yaml 
   69  vim metrics-server-deployment.yaml 
   70  vim metrics-server-service.yaml 
   71  vim resource-reader.yaml 
   72  ls
   73  cd ..
   74  cp -rf deploy_metrics-server save_deploy_metrics-server
   75  cd deploy_metrics-server/
   76  vim metrics-server-deployment.yaml 
   77  ls
   78  kubectl apply -f .
   79  vim resource-reader.yaml 
   80  vim rauth-delegator.yaml
   81  ls
   82  vim auth-delegator.yaml 
   83  ls -l
   84  vim aggregated-metrics-reader.yaml 
   85  vim auth-delegator.yaml 
   86  vim auth-reader.yaml 
   87  vim metrics-apiservice.yaml 
   88  vim metrics-server-deployment.yaml 
   89  vim metrics-server-service.yaml 
   90  vim resource-reader.yaml 
   91  kubectl apply -f .
   92  vim resource-reader.yaml 
   93  kubectl apply -f metrics-server-deployment.yaml 
   94  kubectl get pods -n kube-system 
   95  kubectl top node
   96  ls
   97  kubectl delete deploy metrics-server -n kube-system 
   98  kubectl get apiservices.apiregistration.k8s.io 
   99  kubectl get apiservices.apiregistration.k8s.io | grep metrics
  100  kubectl get apiservices.apiregistration.k8s.io | grep metric
  101  ls
  102  kubectl apply -f .
  103  kubectl apply -f . --validate=false
  104  kubectl get pods -n kube-system 
  105  kubectl top node
  106  kubectl get apiservices.apiregistration.k8s.io | grep metric
  107  kubectl top node
  108  cd ~
  109  ls
  110  history 
  111  history | more
  112  ls -la
  113  mkdir -p /srv/data
  114  vim /srv/data/index.html
  115  ls
  116  vim pod.yml
  117  kubectl apply -f pod.yml 
  118  kubectl get pods
  119  kubectl get pods -o wide
  120  curl 10.244.1.4
  121  ls
  122  mv pod.yml pod_hostPath.yml 
  123  vim pod_hostPath.yml 
  124  cp -p pod_hostPath.yml pod_emptyDir.yml 
  125  vim pod_emptyDir.yml 
  126  vim pod_hostPath.yml 
  127  vim pod_emptyDir.yml 
  128  ls
  129  kubectl get pods
  130  kubectl delete pods monpod
  131  vim pod_emptyDir.yml 
  132  kubectl apply -f pod_emptyDir.yml 
  133  vim pod_emptyDir.yml 
  134  kubectl apply -f pod_emptyDir.yml 
  135  vim pod_emptyDir.yml 
  136  kubectl apply -f pod_emptyDir.yml 
  137  vim pod_emptyDir.yml 
  138  kubectl apply -f pod_emptyDir.yml 
  139  vim pod_emptyDir.yml 
  140  kubectl apply -f pod_emptyDir.yml 
  141  kubectl apply -f pod_hostPath.yml 
  142  kubectl delete pods monpod
  143  kubectl apply -f pod_emptyDir.yml 
  144  vim pod_emptyDir.yml 
  145  kubectl get pods
  146  kubectl get pods --all
  147  kubectl delete pods --all
  148  vim pod_emptyDir.yml 
  149  kubectl apply -f pod_emptyDir.yml 
  150  vim pod_emptyDir.yml 
  151  kubectl apply -f pod_emptyDir.yml 
  152  kubectl get pods 
  153  kubectl get pods -o wide
  154  vim pod_emptyDir.yml 
  155  kubectl get pods -o wide
  156  vim pod_emptyDir.yml 
  157  kubectl get pods
  158  kubectl delete pods monpod
  159  kubectl apply -f pod_emptyDir.yml 
  160  kubectl get pods
  161  kubectl get pods -o wide
  162  vim pod_emptyDir.yml 
  163  ls
  164  git init .
  165  git commit -m "first commit"
  166  history > cmd_k8s.txt
  167  vim cmd_k8s.txt 
  168  git add .
  169  git commit -m "first commit"
  170  git remote add origin https://github.com/thegodsson/K_s_cmd2.git
  171  git push -u origin master
  172  ls
  173  kubectl exec -ti monpod -c mondebian /bin/bash
  174  history > cmd_k8s.txt
    1  apt-get update && apt-get install -y apt-transport-https curl
    2  curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
    3  sudo add-apt-repository "deb http://apt.kubernetes.io/ kubernetes-xenial main"
    4  apt-get update
    5  sudo apt-get install -y kubelet kubeadm kubectl kubernetes-cni
    6  systemctl enable kubelet
    7  ip a
    8  vim /etc/hosts
    9  apt-get install bash-completion
   10  echo "source <(kubectl completion bash)" >> ~/.bashrc
   11  source .bashrc 
   12  kubeadm init --apiserver-advertise-address=192.168.56.101  --node-name $HOSTNAME --pod-network-cidr=10.244.0.0/16
   13  mkdir -p $HOME/.kube
   14  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
   15  sudo chown $(id -u):$(id -g) $HOME/.kube/config
   16  ls
   17  ls -a
   18  ls -la
   19  sysctl net.bridge.bridge-nf-call-iptables=1
   20  kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
   21  kubectl edit cm -n kube-system kube-flannel-cfg
   22  kubectl get pod --all-namespaces 
   23  kubectl get pod --all-namespaces  -o wide
   24  kubectl get nodes 
   25  kubectl get nodes  -o wide
   26  kubectl get nodes 
   27  ls
   28  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   29  git clone https://github.com/kubernetes-sigs/metrics-server.git
   30  ls
   31  ls metrics-server/
   32  ls metrics-server/deploy/
   33  rm -rf metrics-server
   34  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   35  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3.git
   36  mkdir deploy_metrics-server
   37  cd deploy_metrics-server/
   38  ls
   39  cd ..
   40  git clone https://github.com/kubernetes-sigs/metrics-server.git
   41  ls
   42  cd metrics-server/
   43  ls
   44  ls -l
   45  cd ..
   46  ls
   47  rm -rf metrics-server/
   48  cd deploy_metrics-server/
   49  ls
   50  touch aggregated-metrics-reader.yaml
   51  touch auth-delegator.yaml
   52  touch auth-reader.yaml
   53  touch metrics-apiservice.yaml
   54  touch metrics-server-deployment.yaml
   55  touch metrics-server-service.yaml
   56  touch resource-reader.yaml
   57  ls -l
   58  vim aggregated-metrics-reader.yaml 
   59  vim auth-delegator.yaml 
   60  vim aggregated-metrics-reader.yaml 
   61  vim auth-reader.yaml 
   62  ls
   63  vim aggregated-metrics-reader.yaml 
   64  vim auth-delegator.yaml 
   65  vim auth-reader.yaml 
   66  ls -l
   67  vim auth-reader.yaml 
   68  vim metrics-apiservice.yaml 
   69  vim metrics-server-deployment.yaml 
   70  vim metrics-server-service.yaml 
   71  vim resource-reader.yaml 
   72  ls
   73  cd ..
   74  cp -rf deploy_metrics-server save_deploy_metrics-server
   75  cd deploy_metrics-server/
   76  vim metrics-server-deployment.yaml 
   77  ls
   78  kubectl apply -f .
   79  vim resource-reader.yaml 
   80  vim rauth-delegator.yaml
   81  ls
   82  vim auth-delegator.yaml 
   83  ls -l
   84  vim aggregated-metrics-reader.yaml 
   85  vim auth-delegator.yaml 
   86  vim auth-reader.yaml 
   87  vim metrics-apiservice.yaml 
   88  vim metrics-server-deployment.yaml 
   89  vim metrics-server-service.yaml 
   90  vim resource-reader.yaml 
   91  kubectl apply -f .
   92  vim resource-reader.yaml 
   93  kubectl apply -f metrics-server-deployment.yaml 
   94  kubectl get pods -n kube-system 
   95  kubectl top node
   96  ls
   97  kubectl delete deploy metrics-server -n kube-system 
   98  kubectl get apiservices.apiregistration.k8s.io 
   99  kubectl get apiservices.apiregistration.k8s.io | grep metrics
  100  kubectl get apiservices.apiregistration.k8s.io | grep metric
  101  ls
  102  kubectl apply -f .
  103  kubectl apply -f . --validate=false
  104  kubectl get pods -n kube-system 
  105  kubectl top node
  106  kubectl get apiservices.apiregistration.k8s.io | grep metric
  107  kubectl top node
  108  cd ~
  109  ls
  110  history 
  111  history | more
  112  ls -la
  113  mkdir -p /srv/data
  114  vim /srv/data/index.html
  115  ls
  116  vim pod.yml
  117  kubectl apply -f pod.yml 
  118  kubectl get pods
  119  kubectl get pods -o wide
  120  curl 10.244.1.4
  121  ls
  122  mv pod.yml pod_hostPath.yml 
  123  vim pod_hostPath.yml 
  124  cp -p pod_hostPath.yml pod_emptyDir.yml 
  125  vim pod_emptyDir.yml 
  126  vim pod_hostPath.yml 
  127  vim pod_emptyDir.yml 
  128  ls
  129  kubectl get pods
  130  kubectl delete pods monpod
  131  vim pod_emptyDir.yml 
  132  kubectl apply -f pod_emptyDir.yml 
  133  vim pod_emptyDir.yml 
  134  kubectl apply -f pod_emptyDir.yml 
  135  vim pod_emptyDir.yml 
  136  kubectl apply -f pod_emptyDir.yml 
  137  vim pod_emptyDir.yml 
  138  kubectl apply -f pod_emptyDir.yml 
  139  vim pod_emptyDir.yml 
  140  kubectl apply -f pod_emptyDir.yml 
  141  kubectl apply -f pod_hostPath.yml 
  142  kubectl delete pods monpod
  143  kubectl apply -f pod_emptyDir.yml 
  144  vim pod_emptyDir.yml 
  145  kubectl get pods
  146  kubectl get pods --all
  147  kubectl delete pods --all
  148  vim pod_emptyDir.yml 
  149  kubectl apply -f pod_emptyDir.yml 
  150  vim pod_emptyDir.yml 
  151  kubectl apply -f pod_emptyDir.yml 
  152  kubectl get pods 
  153  kubectl get pods -o wide
  154  vim pod_emptyDir.yml 
  155  kubectl get pods -o wide
  156  vim pod_emptyDir.yml 
  157  kubectl get pods
  158  kubectl delete pods monpod
  159  kubectl apply -f pod_emptyDir.yml 
  160  kubectl get pods
  161  kubectl get pods -o wide
  162  vim pod_emptyDir.yml 
  163  ls
  164  git init .
  165  git commit -m "first commit"
  166  history > cmd_k8s.txt
  167  vim cmd_k8s.txt 
  168  git add .
  169  git commit -m "first commit"
  170  git remote add origin https://github.com/thegodsson/K_s_cmd2.git
  171  git push -u origin master
  172  ls
  173  kubectl exec -ti monpod -c mondebian /bin/bash
  174  history > cmd_k8s.txt
  175  vim pod_emptyDir.yml 
  176  git add cmd_k8s.txt 
  177  git commit -m "update"
  178  git push -u origin master
  179  ls
  180  vim pod_persitentVolume.yml
  181  mkdir -p /pvdata
  182  vim /pvdata/index.html
  183  kubectl apply -f pod_persitentVolume.yml 
  184  vim pod_persitentVolume.yml
  185  kubectl apply -f pod_persitentVolume.yml 
  186  kubectl get pods
  187  vim pod_persitentVolume.yml
  188  kubectl get pv
  189  mv pod_persitentVolume.yml 1_pod_persitentVolume.yml 
  190  vim 2_pod_persitentVolumeClaim.yml
  191  ls
  192  vim source.txt
  193  ls
  194  vim 2_pod_persitentVolumeClaim.yml 
  195  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  196  kubectl get pv
  197  kubectl get pvc
  198  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  199  vim 2_pod_persitentVolumeClaim.yml 
  200  vim 1_pod_persitentVolume.yml 
  201  vim 2_pod_persitentVolumeClaim.yml 
  202  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  203  vim 1_pod_persitentVolume.yml 
  204  ls -l /pvdata/
  205  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  206  vim 1_pod_persitentVolume.yml 
  207  vim 2_pod_persitentVolumeClaim.yml 
  208  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  209  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  210  kubectl get pods -o wide
  211  vim /pvdata/index.html 
  212  cat 1_pod_persitentVolume.yml 
  213  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  214  vim 2_pod_persitentVolumeClaim.yml 
  215  vim 1_pod_persitentVolume.yml 
  216  kubectl get pv
  217  kubectl get pvc
  218  kubectl get pods -o wide
  219  curl 10.244.1.8
  220  ls -l /pvdata/
  221  ls -l /srv/data/index.html 
  222  cp /srv/data/index.html /pvdata/
  223  cat /pvdata/index.html 
  224  curl 10.244.1.8
  225  kubectl get pods -o wide
  226  kubectl delete pods monpod
  227  kubectl delete pods monpods
  228  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  229  kubectl get pods -o wide
  230  ls -l /pvdata/
  231  cat /pvdata/index.html 
  232  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  233  vim 1_pod_persitentVolume.yml 
  234  vim pod_hostPath.yml 
  235  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  236  vim pod_hostPath.yml 
  237  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  238  vim pod_hostPath.yml 
  239  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  240  kubectl delete pods monpods
  241  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  242  kubectl get pods -o wide
  243  kubectl delete pods monpods
  244  kubectl delete pv pv
  245  kubectl get pv
  246  kubectl delete pv monpv
  247  kubectl get pv
  248  kubectl get pvs
  249  kubectl get pv
  250  kubectl delete pv monpv
  251  vim 1_pod_persitentVolume.yml 
  252  vim pod_hostPath.yml 
  253  vim 1_pod_persitentVolume.yml 
  254  vim 2_pod_persitentVolumeClaim.yml 
  255  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  256  vim 1_pod_persitentVolume.yml 
  257  mkdir /pvdata2
  258  cp -p /srv/data/index.html /pvdata2/
  259  ls -l /pvdata2/
  260  kubectl apply -f 1_pod_persitentVolume.yml 
  261  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  262  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  263  kubectl get pods -o wide
  264  kubectl describe pods monpod2 | moremonpod2
  265  kubectl describe pods monpod2 | more
  266  kubectl describe pvs monpvs2
  267  kubectl get pv
  268  kubectl get pvs
  269  kubectl get pvc
  270  kubectl describe pvc monpvs2
  271  kubectl describe pvc monpvc2
  272  kubectl describe pv monpv2
  273  kubectl describe pods monpod2 
  274  cd /pvdata2/
  275  ls
  276  rm index.html 
  277  vim index.html
  278  cd -
  279  vim 1_pod_persitentVolume.yml 
  280  vim 2_pod_persitentVolume.yml 
  281  vim 2_pod_persitentVolumeClaim.yml 
  282  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  283  kubectl exec -ti monpod2 /bin/bash
  284  ls -l 
  285  ls -l /srv/
  286  ls -l /srv/data/
  287  ls -ld /srv
  288  ls -ld /srv/data/
  289  ls -ld /srv/data/index.html 
  290  ls -ld /pvdata2
  291  ls -ld /pvdata2/index.html 
  292  vim 1_pod_persitentVolume.yml 
  293  vim 2_pod_persitentVolumeClaim.yml 
  294  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  295  vim 2_pod_persitentVolumeClaim.yml 
  296  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  297  kubectl get pods
  298  kubectl delete pods monpod2
  299  kubectl get pvc
  300  kubectl delete pvc monpvc2
  301  kubectl get pv
  302  kubectl delete pv monpv2
  303  kubectl get pods
  304  kubectl get pvc
  305  kubectl get pv
  306  kubectl get pvc
  307  kubectl delete pvc monpvc
  308  kubectl get pv
  309  kubectl apply -f 1_pod_persitentVolume.yml 
  310  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  311  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  312  kubectl get pods -o wide
  313  rm -rf /pvdata*
  314  ls
  315  ls -la
  316  df -h
  317  df -h | grep tmp
  318  df -h | grep -w tmp
  319  mount -t nfs 192.168.56.1:/srv/exports /tmp
  320  ip a | grep 56
  321  mount -t nfs 192.168.56.102:/srv/exports /tmp
  322  df -h
  323  df -h | grep -w tmp
  324  vim /tmp/test1.txt 
  325  ls
  326  ls -l /tmp/
  327  ls
  328  vim 1_pod_persitentVolume.yml 
  329  cp -p 1_pod_persitentVolume.yml 1_pv_nfs.yml
  330  vim 1_pv_nfs.yml 
  331  kubectl apply -f 1_pv_nfs.yml 
  332  kubectl get pv
  333  cp -p 2_pod_persitentVolumeClaim.yml 2_pvc_nfs.yml
  334  vim 2_pvc_nfs.yml 
  335  kubectl apply -f 2_pvc_nfs.yml 
  336  kubectl get pv,pvc
  337  cp -p 3_utilisation_du_pv_et_pvc_par_le_pod.yml 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  338  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  339  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  340  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  341  kubectl get pv,pvc
  342  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  343  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  344  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  345  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  346  kubectl get pods
  347  kubectl describe nginx-deploy
  348  kubectl describe pods nginx-deploy
  349  kubectl get pods
  350  kubectl delete pods monpod2
  351  kubectl get pvc
  352  kubectl delete pvc monpvc2
  353  kubectl get pv
  354  kubectl delete pv monpv2
  355  kubectl get pv,pvc
  356  kubectl get pods
  357  kubectl delete pods nginx-deploy
  358  kubectl get pods
  359  kubectl get pv,pvc
  360  kubectl delete pvc mynfspvc
  361  kubectl delete pv mynfspv
  362  kubectl get pv,pvc
  363  kubectl apply -f 1_pv_nfs.yml 
  364  kubectl get pv,pvc
  365  kubectl apply -f 2_pvc_nfs.yml 
  366  kubectl get pv,pvc
  367  vim 2_pvc_nfs.yml 
  368  kubectl get pv,pvc
  369  kubectl describe pvc mynfspvc 
  370  kubectl get pv,pvc
  371  vim 2_pvc_nfs.yml 
  372  vim 1_pv_nfs.yml 
  373  kubectl get pv,pvc
  374  kubectl delete pvc mynfspvc 
  375  kubectl delete pv mynfspv 
  376  kubectl get pv,pvc
  377  kubectl apply -f 1_pv_nfs.yml 
  378  kubectl get pv,pvc
  379  kubectl apply -f 2_pvc_nfs.yml 
  380  kubectl get pv,pvc
  381  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  382  kubectl get pv,pvc
  383  kubectl get pv,pvc,pods
  384  kubectl get pods -o wide
  385  kubectl exec -ti nginx-deploy /bin/bash
  386  kubectl get pv,pvc,pods
  387  kubectl delete pods nginx-deploy
  388  kubectl get pv,pvc
  389  kubectl delete pvc mynfspvc 
  390  kubectl delete pv mynfspv 
  391  kubectl get pv,pvc,pods
  392  ls
  393  mkdir cas_pratique_pv_pvc
  394  cd cas_pratique_pv_pvc/
  395  cp -p ../1_pv_nfs.yml 1_pv_nfs.yml
  396  vim 1_pv_nfs.yml 
  397  kubectl apply f 1_pv_nfs.yml 
  398  vim 1_pv_nfs.yml 
  399  kubectl apply -f 1_pv_nfs.yml 
  400  kubectl get pv,pvc,pods
  401  cp ../2_pvc_nfs.yml 2_pvc_nfs.yml
  402  vim 2_pvc_nfs.yml 
  403  kubectl apply -f 2_pvc_nfs.yml 
  404  kubectl get pv,pvc,pods
  405  vim 3_pods.yml
  406  mv 3_pods.yml 3_pod_mysql.yml
  407  vim 3_pod_mysql.yml 
  408  kubectl apply -f 3_pod_mysql.yml 
  409  vim 3_pod_mysql.yml 
  410  kubectl get pv,pvc,pods
  411  vim 3_pod_mysql.yml 
  412  kubectl apply -f 3_pod_mysql.yml 
  413  vim 3_pod_mysql.yml 
  414  kubectl get pv,pvc,pods
  415  vim 3_pod_mysql.yml 
  416  kubectl apply -f 3_pod_mysql.yml 
  417  kubectl get pv,pvc,pods
  418  kubectl get pv,pvc
  419  kubectl get pv,pvc,pods
  420  kubectl describe pods mysql-deploy 
  421  kubectl describe pods mysql-deploy | more
  422  apt-get install mysql-client
  423  kubectl get pods -o wide
  424  mysql -h 10.244.1.14 -u root -p
  425  vim 3_pod_mysql.yml 
  426  mysql -h 10.244.1.14 -u root -p
  427  vim 3_pod_mysql.yml 
  428  kubectl get pods -o wide
  429  kubectl delete pods mysql-deploy 
  430  ls
  431  vim 3_pod_mysql.yml 
  432  cp -p 3_pod_mysql.yml 3_pod_mysql_V2.yml 
  433  vim 3_pod_mysql_V2.yml 
  434  kubectl apply -f 3_pod_mysql.yml 
  435  kubectl get pods -o wide
  436  vim 3_pod_mysql_V2.yml 
  437  ls
  438  mkdir cas1
  439  mv *.yml cas1/
  440  mkdir cas2
  441  cd cas2/
  442  ls
  443  vim nginx.yml
  444  ls
  445  cp -p ../cas1/3_pod_mysql.yml nginx.yml
  446  vim nginx.yml 
  447  kubectl apply -f nginx.yml 
  448  vim nginx.yml 
  449  kubectl apply -f nginx.yml 
  450  kubectl get pods -o wide
  451  cp nginx.yml debian.yml
  452  vim debian.yml 
  453  kubectl get pods -o wide
  454  kubectl apply -f debian.yml 
  455  kubectl get pods -o wide
  456  vim debian.yml 
  457  kubectl delete pods debian-deploy 
  458  vim debian.yml 
  459  kubectl apply -f debian.yml 
  460  kubectl get pods
  461  kubectl get pods -o wide
  462  kubectl exec -ti debian-deploy /bin/bash
  463  kubectl get pods -o wide
  464  kubectl delete pods debian-deploy
  465  kubectl get pods -o wide
  466  kubectl exec -ti nginx-deploy bin/bash
  467  cd ..
  468  ls
  469  cd ..
  470  ls
  471  mkdir replicaset
  472  cd replicaset/
  473  vim nginx.yml
  474  mv nginx.yml rs_nginx.yml
  475  vim rs_nginx.yml 
  476  kubectl apply -f rs_nginx.yml 
  477  vim rs_nginx.yml 
  478  kubectl apply -f rs_nginx.yml 
  479  kubectl get replicaset 
  480  kubectl get replicaset -o wide
  481  kubectl describe rs monrs 
  482  kubectl get pods
  483  kubectl get pods -o yaml
  484  kubectl get pods -o yaml | more
  485  ls
  486  cd ..
  487  ls
  488  cat cmd_k8s.txt 
  489  ls
  490  cd replicaset/
  491  kubectl get rs
  492  kubectl delete rs monrs 
  493  kubectl get pods
  494  kubectl get pods -n kube-system 
  495  kubectl apply -f rs_nginx.yml 
  496  kubectl get pods
  497  kubectl get rs
  498  kubectl get pods
  499  vim rs_nginx.yml 
  500  kubectl get pods
  501  kubectl delete pods --all
  502  kubectl get rs
  503  kubectl delete rs monrs 
  504  kubectl get rs
  505  kubectl get pods
  506  kubectl apply -f rs_nginx.yml 
  507  kubectl get rs
  508  kubectl get pods
  509  vim rs_nginx.yml 
  510  kubectl get pods
  511  kubectl get rs
  512  kubectl get pods
  513  kubectl describe pods monrs-69n7k
  514  kubectl delete rs monrs 
  515  kubectl delete pods --all
  516  kubectl apply -f rs_nginx.yml 
  517  kubectl get pods
  518  kubectl get rs
  519  kubectl get pods
  520  kubectl delete pods monrs-8zvrl
  521  kubectl get pods
  522  kubectl delete pods --all
  523  kubectl get pods
  524  kubectl delete rs monrs 
  525  kubectl get pods
  526  kubectl get rs
  527  vim pods.yml
  528  kubectl apply -f pods.yml 
  529  kubectl get pods
  530  ls
  531  mv rs_nginx.yml 1_rs_nginx.yml 
  532  mv pods.yml 2_pods.yml 
  533  cp 1_rs_nginx.yml 3_rs_nginx.yml 
  534  vim 3_rs_nginx.yml 
  535  kubectl get pods
  536  kubectl apply -f 3_rs_nginx.yml 
  537* kubectl get 
  538  kubectl get pods
  539  kubectl get rs
  540  kubectl get pods
  541  cat 2_pods.yml 
  542  cat 3_rs_nginx.yml 
  543  kubectl get pods
  544  kubectl get s
  545  kubectl get rs
  546  kubectl delete rs front2 
  547  kubectl get pods
  548  cd ..
  549  ls
  550  mkdir pv_pvs_pod
  551  mv 1_p* pv_pvs_pod/
  552  ls
  553  mv 2_p* pv_pvs_pod/
  554  ls
  555  mv 3_* pv_pvs_pod/
  556  ls
  557  cat pod_emptyDir.yml 
  558  ls
  559  cat source.txt 
  560  ls
  561  mkdir configmaps_secrets
  562  mv configmaps_secrets configmaps_secrets_1
  563  ls
  564  cd configmaps_secrets_1/
  565  ls
  566  kubectl create configmap langue --from-literal=LANGUAGE=Fr
  567  kubectl get configmap
  568  kubectl get configmap langue 
  569  kubectl describe configmap langue 
  570  kubectl create secret generic mysql_password --from-literal=MYSQL_PASSWORD=monmotdepasse
  571  kubectl create secret generic mysqlpassword --from-literal=MYSQL_PASSWORD=monmotdepasse
  572  kubectl describe secret langue 
  573  kubectl describe secret mysqlpassword 
  574  kubectl get secret mysqlpassword 
  575  kubectl delete configmap langue
  576  kubectl create configmap langue --from-literal=LANGUAGE=Fr --from-literal=ENCODING=UTF-8
  577  kubectl get configmap langue
  578  kubectl describe configmap langue
  579  kubectl get configmap
  580  vim maconf.cfg
  581  kubectl get configmap
  582  kubectl describe configmap langue
  583  ls
  584  cat maconf.cfg 
  585  kubectl describe configmap langue
  586  history 
  587  kubectl create configmap maconfiguration --from-file=maconf.cfg 
  588  kubectl get configmap
  589  kubectl describe configmaps maconfiguration 
  590  kubectl edit configmap maconfiguration 
  591  kubectl describe configmaps maconfiguration 
  592  kubectl create configmap maconfiguration --from-literal=LANGUAGE=Es -o yaml --dry-run | kubectl replace -f -
  593  kubectl describe configmaps maconfiguration 
  594  ls
  595  cd ..
  596  mkdir configmaps_secrets_2
  597  cd configmaps_secrets_2/
  598  vim 1_personne.yml
  599  mv 1_personne.yml configmap.yml
  600  vim configmap.yml 
  601  kubectl apply -f configmap.yml 
  602  vim configmap.yml 
  603  kubectl apply -f configmap.yml 
  604  kubectl get configmap 
  605  kubectl describe configmap personne 
  606  cat ../source.txt 
  607  ls
  608  mv configmap.yml 1_configmap.yml 
  609  vim 2_configmap.yml
  610  kubectl get configmap 
  611  kubectl describe configmap personne 
  612  ls
  613  mv 2_configmap.yml 2_pod.yml
  614  kubectl apply -f 2_pod.yml 
  615  kubectl get configmap 
  616* kubectl describe configma
  617  kubectl describe configmap personne 
  618  kubectl get pods
  619  kubectl describe pods monpod 
  620  kubectl delete pods monpod 
  621  vim 2_pod.yml 
  622  kubectl apply -f 2_pod.yml 
  623  kubectl describe pods monpod 
  624  vim 2_pod.yml 
  625  kubectl describe pods monpod 
  626  kubectl delete pods monpod 
  627  kubectl apply -f 2_pod.yml 
  628  kubectl describe pods monpod 
  629  kubectl get pods
  630  kubectl describe pods monpod 
  631  kubectl get pods
  632  kubectl delete pods monpod 
  633  vim 2_pod.yml 
  634  kubectl get pods
  635  kubectl apply -f 2_pod.yml 
  636  kubectl get pods
  637  kubectl describe pods monpod 
  638  kubectl describe configmap personne 
  639  kubectl logs monpod 
  640  kubectl delete pods monpod 
  641  ls
  642  cp -p 2_pod.yml 3_pod.yml 
  643  vim 3_pod.yml 
  644  vim 2_pod.yml 
  645  vim 3_pod.yml 
  646  kubectl apply -f 3_pod.yml 
  647  kubectl get pods
  648  kubectl logs monpod 
  649  ls
  650  vim 4_volume_fichier.yml
  651  mv 4_volume_fichier.yml 4_maconf.yml
  652  vim 4_maconf.yml 
  653  kubectl apply -f 4_maconf.yml 
  654  kubectl describe configmap hello
  655  kubectl delete pod
  656  kubectl get pods
  657  kubectl delete pod monpod 
  658  ls
  659  kubectl get configmap
  660  ls
  661  vim 5_pods.yml
  662  ls
  663  vim 5_pods.yml
  664  kubectl get configmap
  665  kubectl describe configmap hello 
  666  kubectl apply -f 5_pods.yml 
  667  kubectl get pods
  668  kubectl get pods -o wide
  669  kubectl describe configmap hello 
  670  vim 5_pods.yml
  671  kubectl delete pods monpod 
  672  kubectl apply -f 5_pods.yml 
  673  kubectl get pods -o wide
  674  kubectl exec -ti 10.244.1.47 /bin/bash
  675  kubectl exec -ti -name 10.244.1.47 /bin/bash
  676  kubectl exec -ti monpod /bin/bash
  677  kubectl get pods -o wide
  678  kubectl delete pods monpod 
  679  ls
  680  mv 5_pods.yml 5_pods_fichier.yml 
  681  cp -p 5_pods_fichier.yml 6_pods_repertoire.yml 
  682  vim 6_pods_repertoire.yml 
  683  vim index.html
  684  vim david.html
  685  ls
  686  kubectl create configmap mondir --from-file=index.html --from-file=david.html 
  687  kubectl get configmap
  688  kubectl describe configmap mondir 
  689  vim 6_pods_repertoire.yml 
  690  kubectl apply -f 6_pods_repertoire.yml 
  691  kubectl get pods
  692  kubectl get pods -o wide~
  693  kubectl get pods -o wide
  694  cd ..
  695  mkdir deploiments
  696  cd deploiments/
  697  ls
  698  cd ..
  699  ls
  700  cd deploiments/
  701  ls
  702  vim ngnix.yml
  703  vim 1_ngnix.yml
  704  mv 1_ngnix.yml 1_deploy.yml 
  705  vim 1_deploy.yml 
  706  kubectl apply -f 1_deploy.yml 
  707  kubectl get deploy
  708  kubectl get deploy -o wide
  709  kubectl get deploy
  710  ls
  711  vim 2_service.yml
  712  kubectl get deploy
  713  kubectl get deploy -o wide
  714  kubectl get pods -o wide
  715  vim 2_service.yml
  716  kubectl apply -f 2_service.yml 
  717  kubectl get service
  718  kubectl get service -o wide
  719  ls
  720  vim 1_deploy.yml 
  721  ls
  722  cp -p 1_deploy.yml 2_deploy.yml 
  723  vim 2_deploy.yml 
  724  kubectl apply -f 2_deploy.yml 
  725  ls
  726  mkdir rolling_update
  727  mv *.yml rolling_update/
  728  ls
  729  mkdir recreate
  730  cd recreate/
  731  ls
  732  vim 1_deploy.yml
  733  cd ..
  734  ls
  735  cd ..
  736  ls
  737  vim cas_pratique_pv_pvc/cas1/1_pv_nfs.yml 
  738  vim cas_pratique_pv_pvc/cas2/nginx.yml 
  739  vim cas_pratique_pv_pvc/cas2/debian.yml 
  740  vim cas_pratique_pv_pvc/cas1/2_pvc_nfs.yml 
  741  vim cas_pratique_pv_pvc/cas1/3_pod_mysql.yml 
  742  vim cas_pratique_pv_pvc/cas1/3_pod_mysql_V2.yml 
  743  cd deploiments/
  744  ls
  745  cd recreate/
  746  vim 1_deploy.yml 
  747  ls
  748  kubectl apply -f 1_deploy.yml 
  749  kubectl delete pods monpod 
  750  cd ..
  751  ls
  752  mv rolling_update 1
  753  mv recreate 2_recreate
  754  mkdir rolling_update
  755  ls
  756  ls -l
  757  cd rolling_update/
  758  ls
  759  vim 1_deploy.yml
  760  kubectl delete deploy myfirstdeploy 
  761  vim 1_deploy.yml
  762  kubectl apply -f 1_deploy.yml 
  763  ls
  764  ls -l
  765  kubectl get deploy
  766  ls
  767  cat ../1/2_service.yml 
  768  cp ../1/2_service.yml .
  769  ls
  770  vim 2_service.yml 
  771  vim 1_deploy.yml 
  772  cp 1_deploy.yml 2_deploy.yml 
  773  vim 2_deploy.yml 
  774  ls
  775  kubectl apply -f 2_deploy.yml 
  776  cp 2_deploy.yml 3_deploy.yml 
  777  vim 3_deploy.yml 
  778  ls
  779  cat 1_deploy.yml 
  780  cat 2_deploy.yml 
  781  vim 3_deploy.yml 
  782  kubectl apply -f 3_deploy.yml 
  783  vim 3_deploy.yml 
  784  kubectl get pods
  785  vim 3_deploy.yml 
  786  kubectl apply -f 3_deploy.yml 
  787  vim 3_deploy.yml 
  788  kubectl apply -f 3_deploy.yml 
  789  vim 3_deploy.yml 
  790  ls
  791  kubectl delete deploy myfirstdeploy 
  792  vim 3_deploy.yml 
  793  kubectl apply -f 3_deploy.yml 
  794  ls
  795  cp -p 3_deploy.yml 4_deploy_update_version.yml 
  796  kubectl get deploy
  797  kubectl rollout status deployment myfirstdeploy 
  798  ls -l
  799  vim 4_deploy_update_version.yml 
  800  kubectl apply -f 4_deploy_update_version.yml 
  801  kubectl rollout pause deployment myfirstdeploy 
  802  kubectl rollout resume deployment myfirstdeploy 
  803  kubectl rollout status deployment myfirstdeploy 
  804  kubectl rollout history deployment myfirstdeploy 
  805  kubectl rollout history deployment myfirstdeploy --revision 1
  806  kubectl rollout history deployment myfirstdeploy --revision 2
  807  kubectl rollout undo deployment myfirstdeploy 
  808  kubectl rollout status deployment myfirstdeploy 
  809  kubectl rollout history deployment myfirstdeploy 
  810  cd ../..
  811  cat cmd_k8s.txt 
  812  history >> cmd_k8s.txt 
    1  apt-get update && apt-get install -y apt-transport-https curl
    2  curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
    3  sudo add-apt-repository "deb http://apt.kubernetes.io/ kubernetes-xenial main"
    4  apt-get update
    5  sudo apt-get install -y kubelet kubeadm kubectl kubernetes-cni
    6  systemctl enable kubelet
    7  ip a
    8  vim /etc/hosts
    9  apt-get install bash-completion
   10  echo "source <(kubectl completion bash)" >> ~/.bashrc
   11  source .bashrc 
   12  kubeadm init --apiserver-advertise-address=192.168.56.101  --node-name $HOSTNAME --pod-network-cidr=10.244.0.0/16
   13  mkdir -p $HOME/.kube
   14  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
   15  sudo chown $(id -u):$(id -g) $HOME/.kube/config
   16  ls
   17  ls -a
   18  ls -la
   19  sysctl net.bridge.bridge-nf-call-iptables=1
   20  kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
   21  kubectl edit cm -n kube-system kube-flannel-cfg
   22  kubectl get pod --all-namespaces 
   23  kubectl get pod --all-namespaces  -o wide
   24  kubectl get nodes 
   25  kubectl get nodes  -o wide
   26  kubectl get nodes 
   27  ls
   28  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   29  git clone https://github.com/kubernetes-sigs/metrics-server.git
   30  ls
   31  ls metrics-server/
   32  ls metrics-server/deploy/
   33  rm -rf metrics-server
   34  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   35  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3.git
   36  mkdir deploy_metrics-server
   37  cd deploy_metrics-server/
   38  ls
   39  cd ..
   40  git clone https://github.com/kubernetes-sigs/metrics-server.git
   41  ls
   42  cd metrics-server/
   43  ls
   44  ls -l
   45  cd ..
   46  ls
   47  rm -rf metrics-server/
   48  cd deploy_metrics-server/
   49  ls
   50  touch aggregated-metrics-reader.yaml
   51  touch auth-delegator.yaml
   52  touch auth-reader.yaml
   53  touch metrics-apiservice.yaml
   54  touch metrics-server-deployment.yaml
   55  touch metrics-server-service.yaml
   56  touch resource-reader.yaml
   57  ls -l
   58  vim aggregated-metrics-reader.yaml 
   59  vim auth-delegator.yaml 
   60  vim aggregated-metrics-reader.yaml 
   61  vim auth-reader.yaml 
   62  ls
   63  vim aggregated-metrics-reader.yaml 
   64  vim auth-delegator.yaml 
   65  vim auth-reader.yaml 
   66  ls -l
   67  vim auth-reader.yaml 
   68  vim metrics-apiservice.yaml 
   69  vim metrics-server-deployment.yaml 
   70  vim metrics-server-service.yaml 
   71  vim resource-reader.yaml 
   72  ls
   73  cd ..
   74  cp -rf deploy_metrics-server save_deploy_metrics-server
   75  cd deploy_metrics-server/
   76  vim metrics-server-deployment.yaml 
   77  ls
   78  kubectl apply -f .
   79  vim resource-reader.yaml 
   80  vim rauth-delegator.yaml
   81  ls
   82  vim auth-delegator.yaml 
   83  ls -l
   84  vim aggregated-metrics-reader.yaml 
   85  vim auth-delegator.yaml 
   86  vim auth-reader.yaml 
   87  vim metrics-apiservice.yaml 
   88  vim metrics-server-deployment.yaml 
   89  vim metrics-server-service.yaml 
   90  vim resource-reader.yaml 
   91  kubectl apply -f .
   92  vim resource-reader.yaml 
   93  kubectl apply -f metrics-server-deployment.yaml 
   94  kubectl get pods -n kube-system 
   95  kubectl top node
   96  ls
   97  kubectl delete deploy metrics-server -n kube-system 
   98  kubectl get apiservices.apiregistration.k8s.io 
   99  kubectl get apiservices.apiregistration.k8s.io | grep metrics
  100  kubectl get apiservices.apiregistration.k8s.io | grep metric
  101  ls
  102  kubectl apply -f .
  103  kubectl apply -f . --validate=false
  104  kubectl get pods -n kube-system 
  105  kubectl top node
  106  kubectl get apiservices.apiregistration.k8s.io | grep metric
  107  kubectl top node
  108  cd ~
  109  ls
  110  history 
  111  history | more
  112  ls -la
  113  mkdir -p /srv/data
  114  vim /srv/data/index.html
  115  ls
  116  vim pod.yml
  117  kubectl apply -f pod.yml 
  118  kubectl get pods
  119  kubectl get pods -o wide
  120  curl 10.244.1.4
  121  ls
  122  mv pod.yml pod_hostPath.yml 
  123  vim pod_hostPath.yml 
  124  cp -p pod_hostPath.yml pod_emptyDir.yml 
  125  vim pod_emptyDir.yml 
  126  vim pod_hostPath.yml 
  127  vim pod_emptyDir.yml 
  128  ls
  129  kubectl get pods
  130  kubectl delete pods monpod
  131  vim pod_emptyDir.yml 
  132  kubectl apply -f pod_emptyDir.yml 
  133  vim pod_emptyDir.yml 
  134  kubectl apply -f pod_emptyDir.yml 
  135  vim pod_emptyDir.yml 
  136  kubectl apply -f pod_emptyDir.yml 
  137  vim pod_emptyDir.yml 
  138  kubectl apply -f pod_emptyDir.yml 
  139  vim pod_emptyDir.yml 
  140  kubectl apply -f pod_emptyDir.yml 
  141  kubectl apply -f pod_hostPath.yml 
  142  kubectl delete pods monpod
  143  kubectl apply -f pod_emptyDir.yml 
  144  vim pod_emptyDir.yml 
  145  kubectl get pods
  146  kubectl get pods --all
  147  kubectl delete pods --all
  148  vim pod_emptyDir.yml 
  149  kubectl apply -f pod_emptyDir.yml 
  150  vim pod_emptyDir.yml 
  151  kubectl apply -f pod_emptyDir.yml 
  152  kubectl get pods 
  153  kubectl get pods -o wide
  154  vim pod_emptyDir.yml 
  155  kubectl get pods -o wide
  156  vim pod_emptyDir.yml 
  157  kubectl get pods
  158  kubectl delete pods monpod
  159  kubectl apply -f pod_emptyDir.yml 
  160  kubectl get pods
  161  kubectl get pods -o wide
  162  vim pod_emptyDir.yml 
  163  ls
  164  git init .
  165  git commit -m "first commit"
  166  history > cmd_k8s.txt
  167  vim cmd_k8s.txt 
  168  git add .
  169  git commit -m "first commit"
  170  git remote add origin https://github.com/thegodsson/K_s_cmd2.git
  171  git push -u origin master
  172  ls
  173  kubectl exec -ti monpod -c mondebian /bin/bash
  174  history > cmd_k8s.txt
  175  vim pod_emptyDir.yml 
  176  git add cmd_k8s.txt 
  177  git commit -m "update"
  178  git push -u origin master
  179  ls
  180  vim pod_persitentVolume.yml
  181  mkdir -p /pvdata
  182  vim /pvdata/index.html
  183  kubectl apply -f pod_persitentVolume.yml 
  184  vim pod_persitentVolume.yml
  185  kubectl apply -f pod_persitentVolume.yml 
  186  kubectl get pods
  187  vim pod_persitentVolume.yml
  188  kubectl get pv
  189  mv pod_persitentVolume.yml 1_pod_persitentVolume.yml 
  190  vim 2_pod_persitentVolumeClaim.yml
  191  ls
  192  vim source.txt
  193  ls
  194  vim 2_pod_persitentVolumeClaim.yml 
  195  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  196  kubectl get pv
  197  kubectl get pvc
  198  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  199  vim 2_pod_persitentVolumeClaim.yml 
  200  vim 1_pod_persitentVolume.yml 
  201  vim 2_pod_persitentVolumeClaim.yml 
  202  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  203  vim 1_pod_persitentVolume.yml 
  204  ls -l /pvdata/
  205  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  206  vim 1_pod_persitentVolume.yml 
  207  vim 2_pod_persitentVolumeClaim.yml 
  208  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  209  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  210  kubectl get pods -o wide
  211  vim /pvdata/index.html 
  212  cat 1_pod_persitentVolume.yml 
  213  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  214  vim 2_pod_persitentVolumeClaim.yml 
  215  vim 1_pod_persitentVolume.yml 
  216  kubectl get pv
  217  kubectl get pvc
  218  kubectl get pods -o wide
  219  curl 10.244.1.8
  220  ls -l /pvdata/
  221  ls -l /srv/data/index.html 
  222  cp /srv/data/index.html /pvdata/
  223  cat /pvdata/index.html 
  224  curl 10.244.1.8
  225  kubectl get pods -o wide
  226  kubectl delete pods monpod
  227  kubectl delete pods monpods
  228  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  229  kubectl get pods -o wide
  230  ls -l /pvdata/
  231  cat /pvdata/index.html 
  232  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  233  vim 1_pod_persitentVolume.yml 
  234  vim pod_hostPath.yml 
  235  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  236  vim pod_hostPath.yml 
  237  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  238  vim pod_hostPath.yml 
  239  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  240  kubectl delete pods monpods
  241  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  242  kubectl get pods -o wide
  243  kubectl delete pods monpods
  244  kubectl delete pv pv
  245  kubectl get pv
  246  kubectl delete pv monpv
  247  kubectl get pv
  248  kubectl get pvs
  249  kubectl get pv
  250  kubectl delete pv monpv
  251  vim 1_pod_persitentVolume.yml 
  252  vim pod_hostPath.yml 
  253  vim 1_pod_persitentVolume.yml 
  254  vim 2_pod_persitentVolumeClaim.yml 
  255  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  256  vim 1_pod_persitentVolume.yml 
  257  mkdir /pvdata2
  258  cp -p /srv/data/index.html /pvdata2/
  259  ls -l /pvdata2/
  260  kubectl apply -f 1_pod_persitentVolume.yml 
  261  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  262  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  263  kubectl get pods -o wide
  264  kubectl describe pods monpod2 | moremonpod2
  265  kubectl describe pods monpod2 | more
  266  kubectl describe pvs monpvs2
  267  kubectl get pv
  268  kubectl get pvs
  269  kubectl get pvc
  270  kubectl describe pvc monpvs2
  271  kubectl describe pvc monpvc2
  272  kubectl describe pv monpv2
  273  kubectl describe pods monpod2 
  274  cd /pvdata2/
  275  ls
  276  rm index.html 
  277  vim index.html
  278  cd -
  279  vim 1_pod_persitentVolume.yml 
  280  vim 2_pod_persitentVolume.yml 
  281  vim 2_pod_persitentVolumeClaim.yml 
  282  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  283  kubectl exec -ti monpod2 /bin/bash
  284  ls -l 
  285  ls -l /srv/
  286  ls -l /srv/data/
  287  ls -ld /srv
  288  ls -ld /srv/data/
  289  ls -ld /srv/data/index.html 
  290  ls -ld /pvdata2
  291  ls -ld /pvdata2/index.html 
  292  vim 1_pod_persitentVolume.yml 
  293  vim 2_pod_persitentVolumeClaim.yml 
  294  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  295  vim 2_pod_persitentVolumeClaim.yml 
  296  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  297  kubectl get pods
  298  kubectl delete pods monpod2
  299  kubectl get pvc
  300  kubectl delete pvc monpvc2
  301  kubectl get pv
  302  kubectl delete pv monpv2
  303  kubectl get pods
  304  kubectl get pvc
  305  kubectl get pv
  306  kubectl get pvc
  307  kubectl delete pvc monpvc
  308  kubectl get pv
  309  kubectl apply -f 1_pod_persitentVolume.yml 
  310  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  311  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  312  kubectl get pods -o wide
  313  rm -rf /pvdata*
  314  ls
  315  ls -la
  316  df -h
  317  df -h | grep tmp
  318  df -h | grep -w tmp
  319  mount -t nfs 192.168.56.1:/srv/exports /tmp
  320  ip a | grep 56
  321  mount -t nfs 192.168.56.102:/srv/exports /tmp
  322  df -h
  323  df -h | grep -w tmp
  324  vim /tmp/test1.txt 
  325  ls
  326  ls -l /tmp/
  327  ls
  328  vim 1_pod_persitentVolume.yml 
  329  cp -p 1_pod_persitentVolume.yml 1_pv_nfs.yml
  330  vim 1_pv_nfs.yml 
  331  kubectl apply -f 1_pv_nfs.yml 
  332  kubectl get pv
  333  cp -p 2_pod_persitentVolumeClaim.yml 2_pvc_nfs.yml
  334  vim 2_pvc_nfs.yml 
  335  kubectl apply -f 2_pvc_nfs.yml 
  336  kubectl get pv,pvc
  337  cp -p 3_utilisation_du_pv_et_pvc_par_le_pod.yml 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  338  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  339  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  340  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  341  kubectl get pv,pvc
  342  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  343  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  344  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  345  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  346  kubectl get pods
  347  kubectl describe nginx-deploy
  348  kubectl describe pods nginx-deploy
  349  kubectl get pods
  350  kubectl delete pods monpod2
  351  kubectl get pvc
  352  kubectl delete pvc monpvc2
  353  kubectl get pv
  354  kubectl delete pv monpv2
  355  kubectl get pv,pvc
  356  kubectl get pods
  357  kubectl delete pods nginx-deploy
  358  kubectl get pods
  359  kubectl get pv,pvc
  360  kubectl delete pvc mynfspvc
  361  kubectl delete pv mynfspv
  362  kubectl get pv,pvc
  363  kubectl apply -f 1_pv_nfs.yml 
  364  kubectl get pv,pvc
  365  kubectl apply -f 2_pvc_nfs.yml 
  366  kubectl get pv,pvc
  367  vim 2_pvc_nfs.yml 
  368  kubectl get pv,pvc
  369  kubectl describe pvc mynfspvc 
  370  kubectl get pv,pvc
  371  vim 2_pvc_nfs.yml 
  372  vim 1_pv_nfs.yml 
  373  kubectl get pv,pvc
  374  kubectl delete pvc mynfspvc 
  375  kubectl delete pv mynfspv 
  376  kubectl get pv,pvc
  377  kubectl apply -f 1_pv_nfs.yml 
  378  kubectl get pv,pvc
  379  kubectl apply -f 2_pvc_nfs.yml 
  380  kubectl get pv,pvc
  381  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  382  kubectl get pv,pvc
  383  kubectl get pv,pvc,pods
  384  kubectl get pods -o wide
  385  kubectl exec -ti nginx-deploy /bin/bash
  386  kubectl get pv,pvc,pods
  387  kubectl delete pods nginx-deploy
  388  kubectl get pv,pvc
  389  kubectl delete pvc mynfspvc 
  390  kubectl delete pv mynfspv 
  391  kubectl get pv,pvc,pods
  392  ls
  393  mkdir cas_pratique_pv_pvc
  394  cd cas_pratique_pv_pvc/
  395  cp -p ../1_pv_nfs.yml 1_pv_nfs.yml
  396  vim 1_pv_nfs.yml 
  397  kubectl apply f 1_pv_nfs.yml 
  398  vim 1_pv_nfs.yml 
  399  kubectl apply -f 1_pv_nfs.yml 
  400  kubectl get pv,pvc,pods
  401  cp ../2_pvc_nfs.yml 2_pvc_nfs.yml
  402  vim 2_pvc_nfs.yml 
  403  kubectl apply -f 2_pvc_nfs.yml 
  404  kubectl get pv,pvc,pods
  405  vim 3_pods.yml
  406  mv 3_pods.yml 3_pod_mysql.yml
  407  vim 3_pod_mysql.yml 
  408  kubectl apply -f 3_pod_mysql.yml 
  409  vim 3_pod_mysql.yml 
  410  kubectl get pv,pvc,pods
  411  vim 3_pod_mysql.yml 
  412  kubectl apply -f 3_pod_mysql.yml 
  413  vim 3_pod_mysql.yml 
  414  kubectl get pv,pvc,pods
  415  vim 3_pod_mysql.yml 
  416  kubectl apply -f 3_pod_mysql.yml 
  417  kubectl get pv,pvc,pods
  418  kubectl get pv,pvc
  419  kubectl get pv,pvc,pods
  420  kubectl describe pods mysql-deploy 
  421  kubectl describe pods mysql-deploy | more
  422  apt-get install mysql-client
  423  kubectl get pods -o wide
  424  mysql -h 10.244.1.14 -u root -p
  425  vim 3_pod_mysql.yml 
  426  mysql -h 10.244.1.14 -u root -p
  427  vim 3_pod_mysql.yml 
  428  kubectl get pods -o wide
  429  kubectl delete pods mysql-deploy 
  430  ls
  431  vim 3_pod_mysql.yml 
  432  cp -p 3_pod_mysql.yml 3_pod_mysql_V2.yml 
  433  vim 3_pod_mysql_V2.yml 
  434  kubectl apply -f 3_pod_mysql.yml 
  435  kubectl get pods -o wide
  436  vim 3_pod_mysql_V2.yml 
  437  ls
  438  mkdir cas1
  439  mv *.yml cas1/
  440  mkdir cas2
  441  cd cas2/
  442  ls
  443  vim nginx.yml
  444  ls
  445  cp -p ../cas1/3_pod_mysql.yml nginx.yml
  446  vim nginx.yml 
  447  kubectl apply -f nginx.yml 
  448  vim nginx.yml 
  449  kubectl apply -f nginx.yml 
  450  kubectl get pods -o wide
  451  cp nginx.yml debian.yml
  452  vim debian.yml 
  453  kubectl get pods -o wide
  454  kubectl apply -f debian.yml 
  455  kubectl get pods -o wide
  456  vim debian.yml 
  457  kubectl delete pods debian-deploy 
  458  vim debian.yml 
  459  kubectl apply -f debian.yml 
  460  kubectl get pods
  461  kubectl get pods -o wide
  462  kubectl exec -ti debian-deploy /bin/bash
  463  kubectl get pods -o wide
  464  kubectl delete pods debian-deploy
  465  kubectl get pods -o wide
  466  kubectl exec -ti nginx-deploy bin/bash
  467  cd ..
  468  ls
  469  cd ..
  470  ls
  471  mkdir replicaset
  472  cd replicaset/
  473  vim nginx.yml
  474  mv nginx.yml rs_nginx.yml
  475  vim rs_nginx.yml 
  476  kubectl apply -f rs_nginx.yml 
  477  vim rs_nginx.yml 
  478  kubectl apply -f rs_nginx.yml 
  479  kubectl get replicaset 
  480  kubectl get replicaset -o wide
  481  kubectl describe rs monrs 
  482  kubectl get pods
  483  kubectl get pods -o yaml
  484  kubectl get pods -o yaml | more
  485  ls
  486  cd ..
  487  ls
  488  cat cmd_k8s.txt 
  489  ls
  490  cd replicaset/
  491  kubectl get rs
  492  kubectl delete rs monrs 
  493  kubectl get pods
  494  kubectl get pods -n kube-system 
  495  kubectl apply -f rs_nginx.yml 
  496  kubectl get pods
  497  kubectl get rs
  498  kubectl get pods
  499  vim rs_nginx.yml 
  500  kubectl get pods
  501  kubectl delete pods --all
  502  kubectl get rs
  503  kubectl delete rs monrs 
  504  kubectl get rs
  505  kubectl get pods
  506  kubectl apply -f rs_nginx.yml 
  507  kubectl get rs
  508  kubectl get pods
  509  vim rs_nginx.yml 
  510  kubectl get pods
  511  kubectl get rs
  512  kubectl get pods
  513  kubectl describe pods monrs-69n7k
  514  kubectl delete rs monrs 
  515  kubectl delete pods --all
  516  kubectl apply -f rs_nginx.yml 
  517  kubectl get pods
  518  kubectl get rs
  519  kubectl get pods
  520  kubectl delete pods monrs-8zvrl
  521  kubectl get pods
  522  kubectl delete pods --all
  523  kubectl get pods
  524  kubectl delete rs monrs 
  525  kubectl get pods
  526  kubectl get rs
  527  vim pods.yml
  528  kubectl apply -f pods.yml 
  529  kubectl get pods
  530  ls
  531  mv rs_nginx.yml 1_rs_nginx.yml 
  532  mv pods.yml 2_pods.yml 
  533  cp 1_rs_nginx.yml 3_rs_nginx.yml 
  534  vim 3_rs_nginx.yml 
  535  kubectl get pods
  536  kubectl apply -f 3_rs_nginx.yml 
  537* kubectl get 
  538  kubectl get pods
  539  kubectl get rs
  540  kubectl get pods
  541  cat 2_pods.yml 
  542  cat 3_rs_nginx.yml 
  543  kubectl get pods
  544  kubectl get s
  545  kubectl get rs
  546  kubectl delete rs front2 
  547  kubectl get pods
  548  cd ..
  549  ls
  550  mkdir pv_pvs_pod
  551  mv 1_p* pv_pvs_pod/
  552  ls
  553  mv 2_p* pv_pvs_pod/
  554  ls
  555  mv 3_* pv_pvs_pod/
  556  ls
  557  cat pod_emptyDir.yml 
  558  ls
  559  cat source.txt 
  560  ls
  561  mkdir configmaps_secrets
  562  mv configmaps_secrets configmaps_secrets_1
  563  ls
  564  cd configmaps_secrets_1/
  565  ls
  566  kubectl create configmap langue --from-literal=LANGUAGE=Fr
  567  kubectl get configmap
  568  kubectl get configmap langue 
  569  kubectl describe configmap langue 
  570  kubectl create secret generic mysql_password --from-literal=MYSQL_PASSWORD=monmotdepasse
  571  kubectl create secret generic mysqlpassword --from-literal=MYSQL_PASSWORD=monmotdepasse
  572  kubectl describe secret langue 
  573  kubectl describe secret mysqlpassword 
  574  kubectl get secret mysqlpassword 
  575  kubectl delete configmap langue
  576  kubectl create configmap langue --from-literal=LANGUAGE=Fr --from-literal=ENCODING=UTF-8
  577  kubectl get configmap langue
  578  kubectl describe configmap langue
  579  kubectl get configmap
  580  vim maconf.cfg
  581  kubectl get configmap
  582  kubectl describe configmap langue
  583  ls
  584  cat maconf.cfg 
  585  kubectl describe configmap langue
  586  history 
  587  kubectl create configmap maconfiguration --from-file=maconf.cfg 
  588  kubectl get configmap
  589  kubectl describe configmaps maconfiguration 
  590  kubectl edit configmap maconfiguration 
  591  kubectl describe configmaps maconfiguration 
  592  kubectl create configmap maconfiguration --from-literal=LANGUAGE=Es -o yaml --dry-run | kubectl replace -f -
  593  kubectl describe configmaps maconfiguration 
  594  ls
  595  cd ..
  596  mkdir configmaps_secrets_2
  597  cd configmaps_secrets_2/
  598  vim 1_personne.yml
  599  mv 1_personne.yml configmap.yml
  600  vim configmap.yml 
  601  kubectl apply -f configmap.yml 
  602  vim configmap.yml 
  603  kubectl apply -f configmap.yml 
  604  kubectl get configmap 
  605  kubectl describe configmap personne 
  606  cat ../source.txt 
  607  ls
  608  mv configmap.yml 1_configmap.yml 
  609  vim 2_configmap.yml
  610  kubectl get configmap 
  611  kubectl describe configmap personne 
  612  ls
  613  mv 2_configmap.yml 2_pod.yml
  614  kubectl apply -f 2_pod.yml 
  615  kubectl get configmap 
  616* kubectl describe configma
  617  kubectl describe configmap personne 
  618  kubectl get pods
  619  kubectl describe pods monpod 
  620  kubectl delete pods monpod 
  621  vim 2_pod.yml 
  622  kubectl apply -f 2_pod.yml 
  623  kubectl describe pods monpod 
  624  vim 2_pod.yml 
  625  kubectl describe pods monpod 
  626  kubectl delete pods monpod 
  627  kubectl apply -f 2_pod.yml 
  628  kubectl describe pods monpod 
  629  kubectl get pods
  630  kubectl describe pods monpod 
  631  kubectl get pods
  632  kubectl delete pods monpod 
  633  vim 2_pod.yml 
  634  kubectl get pods
  635  kubectl apply -f 2_pod.yml 
  636  kubectl get pods
  637  kubectl describe pods monpod 
  638  kubectl describe configmap personne 
  639  kubectl logs monpod 
  640  kubectl delete pods monpod 
  641  ls
  642  cp -p 2_pod.yml 3_pod.yml 
  643  vim 3_pod.yml 
  644  vim 2_pod.yml 
  645  vim 3_pod.yml 
  646  kubectl apply -f 3_pod.yml 
  647  kubectl get pods
  648  kubectl logs monpod 
  649  ls
  650  vim 4_volume_fichier.yml
  651  mv 4_volume_fichier.yml 4_maconf.yml
  652  vim 4_maconf.yml 
  653  kubectl apply -f 4_maconf.yml 
  654  kubectl describe configmap hello
  655  kubectl delete pod
  656  kubectl get pods
  657  kubectl delete pod monpod 
  658  ls
  659  kubectl get configmap
  660  ls
  661  vim 5_pods.yml
  662  ls
  663  vim 5_pods.yml
  664  kubectl get configmap
  665  kubectl describe configmap hello 
  666  kubectl apply -f 5_pods.yml 
  667  kubectl get pods
  668  kubectl get pods -o wide
  669  kubectl describe configmap hello 
  670  vim 5_pods.yml
  671  kubectl delete pods monpod 
  672  kubectl apply -f 5_pods.yml 
  673  kubectl get pods -o wide
  674  kubectl exec -ti 10.244.1.47 /bin/bash
  675  kubectl exec -ti -name 10.244.1.47 /bin/bash
  676  kubectl exec -ti monpod /bin/bash
  677  kubectl get pods -o wide
  678  kubectl delete pods monpod 
  679  ls
  680  mv 5_pods.yml 5_pods_fichier.yml 
  681  cp -p 5_pods_fichier.yml 6_pods_repertoire.yml 
  682  vim 6_pods_repertoire.yml 
  683  vim index.html
  684  vim david.html
  685  ls
  686  kubectl create configmap mondir --from-file=index.html --from-file=david.html 
  687  kubectl get configmap
  688  kubectl describe configmap mondir 
  689  vim 6_pods_repertoire.yml 
  690  kubectl apply -f 6_pods_repertoire.yml 
  691  kubectl get pods
  692  kubectl get pods -o wide~
  693  kubectl get pods -o wide
  694  cd ..
  695  mkdir deploiments
  696  cd deploiments/
  697  ls
  698  cd ..
  699  ls
  700  cd deploiments/
  701  ls
  702  vim ngnix.yml
  703  vim 1_ngnix.yml
  704  mv 1_ngnix.yml 1_deploy.yml 
  705  vim 1_deploy.yml 
  706  kubectl apply -f 1_deploy.yml 
  707  kubectl get deploy
  708  kubectl get deploy -o wide
  709  kubectl get deploy
  710  ls
  711  vim 2_service.yml
  712  kubectl get deploy
  713  kubectl get deploy -o wide
  714  kubectl get pods -o wide
  715  vim 2_service.yml
  716  kubectl apply -f 2_service.yml 
  717  kubectl get service
  718  kubectl get service -o wide
  719  ls
  720  vim 1_deploy.yml 
  721  ls
  722  cp -p 1_deploy.yml 2_deploy.yml 
  723  vim 2_deploy.yml 
  724  kubectl apply -f 2_deploy.yml 
  725  ls
  726  mkdir rolling_update
  727  mv *.yml rolling_update/
  728  ls
  729  mkdir recreate
  730  cd recreate/
  731  ls
  732  vim 1_deploy.yml
  733  cd ..
  734  ls
  735  cd ..
  736  ls
  737  vim cas_pratique_pv_pvc/cas1/1_pv_nfs.yml 
  738  vim cas_pratique_pv_pvc/cas2/nginx.yml 
  739  vim cas_pratique_pv_pvc/cas2/debian.yml 
  740  vim cas_pratique_pv_pvc/cas1/2_pvc_nfs.yml 
  741  vim cas_pratique_pv_pvc/cas1/3_pod_mysql.yml 
  742  vim cas_pratique_pv_pvc/cas1/3_pod_mysql_V2.yml 
  743  cd deploiments/
  744  ls
  745  cd recreate/
  746  vim 1_deploy.yml 
  747  ls
  748  kubectl apply -f 1_deploy.yml 
  749  kubectl delete pods monpod 
  750  cd ..
  751  ls
  752  mv rolling_update 1
  753  mv recreate 2_recreate
  754  mkdir rolling_update
  755  ls
  756  ls -l
  757  cd rolling_update/
  758  ls
  759  vim 1_deploy.yml
  760  kubectl delete deploy myfirstdeploy 
  761  vim 1_deploy.yml
  762  kubectl apply -f 1_deploy.yml 
  763  ls
  764  ls -l
  765  kubectl get deploy
  766  ls
  767  cat ../1/2_service.yml 
  768  cp ../1/2_service.yml .
  769  ls
  770  vim 2_service.yml 
  771  vim 1_deploy.yml 
  772  cp 1_deploy.yml 2_deploy.yml 
  773  vim 2_deploy.yml 
  774  ls
  775  kubectl apply -f 2_deploy.yml 
  776  cp 2_deploy.yml 3_deploy.yml 
  777  vim 3_deploy.yml 
  778  ls
  779  cat 1_deploy.yml 
  780  cat 2_deploy.yml 
  781  vim 3_deploy.yml 
  782  kubectl apply -f 3_deploy.yml 
  783  vim 3_deploy.yml 
  784  kubectl get pods
  785  vim 3_deploy.yml 
  786  kubectl apply -f 3_deploy.yml 
  787  vim 3_deploy.yml 
  788  kubectl apply -f 3_deploy.yml 
  789  vim 3_deploy.yml 
  790  ls
  791  kubectl delete deploy myfirstdeploy 
  792  vim 3_deploy.yml 
  793  kubectl apply -f 3_deploy.yml 
  794  ls
  795  cp -p 3_deploy.yml 4_deploy_update_version.yml 
  796  kubectl get deploy
  797  kubectl rollout status deployment myfirstdeploy 
  798  ls -l
  799  vim 4_deploy_update_version.yml 
  800  kubectl apply -f 4_deploy_update_version.yml 
  801  kubectl rollout pause deployment myfirstdeploy 
  802  kubectl rollout resume deployment myfirstdeploy 
  803  kubectl rollout status deployment myfirstdeploy 
  804  kubectl rollout history deployment myfirstdeploy 
  805  kubectl rollout history deployment myfirstdeploy --revision 1
  806  kubectl rollout history deployment myfirstdeploy --revision 2
  807  kubectl rollout undo deployment myfirstdeploy 
  808  kubectl rollout status deployment myfirstdeploy 
  809  kubectl rollout history deployment myfirstdeploy 
  810  cd ../..
  811  cat cmd_k8s.txt 
  812  history >> cmd_k8s.txt 
  813  vim cmd_k8s.txt 
  814  cd -
  815  ls
  816  kubectl rollout history deployment myfirstdeploy 
  817  kubectl rollout undo deployment myfirstdeploy --to-revision=2
  818  kubectl rollout history deployment myfirstdeploy 
  819  cd ../../
  820  history >> cmd_k8s.txt 
    1  apt-get update && apt-get install -y apt-transport-https curl
    2  curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
    3  sudo add-apt-repository "deb http://apt.kubernetes.io/ kubernetes-xenial main"
    4  apt-get update
    5  sudo apt-get install -y kubelet kubeadm kubectl kubernetes-cni
    6  systemctl enable kubelet
    7  ip a
    8  vim /etc/hosts
    9  apt-get install bash-completion
   10  echo "source <(kubectl completion bash)" >> ~/.bashrc
   11  source .bashrc 
   12  kubeadm init --apiserver-advertise-address=192.168.56.101  --node-name $HOSTNAME --pod-network-cidr=10.244.0.0/16
   13  mkdir -p $HOME/.kube
   14  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
   15  sudo chown $(id -u):$(id -g) $HOME/.kube/config
   16  ls
   17  ls -a
   18  ls -la
   19  sysctl net.bridge.bridge-nf-call-iptables=1
   20  kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
   21  kubectl edit cm -n kube-system kube-flannel-cfg
   22  kubectl get pod --all-namespaces 
   23  kubectl get pod --all-namespaces  -o wide
   24  kubectl get nodes 
   25  kubectl get nodes  -o wide
   26  kubectl get nodes 
   27  ls
   28  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   29  git clone https://github.com/kubernetes-sigs/metrics-server.git
   30  ls
   31  ls metrics-server/
   32  ls metrics-server/deploy/
   33  rm -rf metrics-server
   34  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3
   35  git clone https://github.com/kubernetes-sigs/metrics-server/tree/release-0.3.git
   36  mkdir deploy_metrics-server
   37  cd deploy_metrics-server/
   38  ls
   39  cd ..
   40  git clone https://github.com/kubernetes-sigs/metrics-server.git
   41  ls
   42  cd metrics-server/
   43  ls
   44  ls -l
   45  cd ..
   46  ls
   47  rm -rf metrics-server/
   48  cd deploy_metrics-server/
   49  ls
   50  touch aggregated-metrics-reader.yaml
   51  touch auth-delegator.yaml
   52  touch auth-reader.yaml
   53  touch metrics-apiservice.yaml
   54  touch metrics-server-deployment.yaml
   55  touch metrics-server-service.yaml
   56  touch resource-reader.yaml
   57  ls -l
   58  vim aggregated-metrics-reader.yaml 
   59  vim auth-delegator.yaml 
   60  vim aggregated-metrics-reader.yaml 
   61  vim auth-reader.yaml 
   62  ls
   63  vim aggregated-metrics-reader.yaml 
   64  vim auth-delegator.yaml 
   65  vim auth-reader.yaml 
   66  ls -l
   67  vim auth-reader.yaml 
   68  vim metrics-apiservice.yaml 
   69  vim metrics-server-deployment.yaml 
   70  vim metrics-server-service.yaml 
   71  vim resource-reader.yaml 
   72  ls
   73  cd ..
   74  cp -rf deploy_metrics-server save_deploy_metrics-server
   75  cd deploy_metrics-server/
   76  vim metrics-server-deployment.yaml 
   77  ls
   78  kubectl apply -f .
   79  vim resource-reader.yaml 
   80  vim rauth-delegator.yaml
   81  ls
   82  vim auth-delegator.yaml 
   83  ls -l
   84  vim aggregated-metrics-reader.yaml 
   85  vim auth-delegator.yaml 
   86  vim auth-reader.yaml 
   87  vim metrics-apiservice.yaml 
   88  vim metrics-server-deployment.yaml 
   89  vim metrics-server-service.yaml 
   90  vim resource-reader.yaml 
   91  kubectl apply -f .
   92  vim resource-reader.yaml 
   93  kubectl apply -f metrics-server-deployment.yaml 
   94  kubectl get pods -n kube-system 
   95  kubectl top node
   96  ls
   97  kubectl delete deploy metrics-server -n kube-system 
   98  kubectl get apiservices.apiregistration.k8s.io 
   99  kubectl get apiservices.apiregistration.k8s.io | grep metrics
  100  kubectl get apiservices.apiregistration.k8s.io | grep metric
  101  ls
  102  kubectl apply -f .
  103  kubectl apply -f . --validate=false
  104  kubectl get pods -n kube-system 
  105  kubectl top node
  106  kubectl get apiservices.apiregistration.k8s.io | grep metric
  107  kubectl top node
  108  cd ~
  109  ls
  110  history 
  111  history | more
  112  ls -la
  113  mkdir -p /srv/data
  114  vim /srv/data/index.html
  115  ls
  116  vim pod.yml
  117  kubectl apply -f pod.yml 
  118  kubectl get pods
  119  kubectl get pods -o wide
  120  curl 10.244.1.4
  121  ls
  122  mv pod.yml pod_hostPath.yml 
  123  vim pod_hostPath.yml 
  124  cp -p pod_hostPath.yml pod_emptyDir.yml 
  125  vim pod_emptyDir.yml 
  126  vim pod_hostPath.yml 
  127  vim pod_emptyDir.yml 
  128  ls
  129  kubectl get pods
  130  kubectl delete pods monpod
  131  vim pod_emptyDir.yml 
  132  kubectl apply -f pod_emptyDir.yml 
  133  vim pod_emptyDir.yml 
  134  kubectl apply -f pod_emptyDir.yml 
  135  vim pod_emptyDir.yml 
  136  kubectl apply -f pod_emptyDir.yml 
  137  vim pod_emptyDir.yml 
  138  kubectl apply -f pod_emptyDir.yml 
  139  vim pod_emptyDir.yml 
  140  kubectl apply -f pod_emptyDir.yml 
  141  kubectl apply -f pod_hostPath.yml 
  142  kubectl delete pods monpod
  143  kubectl apply -f pod_emptyDir.yml 
  144  vim pod_emptyDir.yml 
  145  kubectl get pods
  146  kubectl get pods --all
  147  kubectl delete pods --all
  148  vim pod_emptyDir.yml 
  149  kubectl apply -f pod_emptyDir.yml 
  150  vim pod_emptyDir.yml 
  151  kubectl apply -f pod_emptyDir.yml 
  152  kubectl get pods 
  153  kubectl get pods -o wide
  154  vim pod_emptyDir.yml 
  155  kubectl get pods -o wide
  156  vim pod_emptyDir.yml 
  157  kubectl get pods
  158  kubectl delete pods monpod
  159  kubectl apply -f pod_emptyDir.yml 
  160  kubectl get pods
  161  kubectl get pods -o wide
  162  vim pod_emptyDir.yml 
  163  ls
  164  git init .
  165  git commit -m "first commit"
  166  history > cmd_k8s.txt
  167  vim cmd_k8s.txt 
  168  git add .
  169  git commit -m "first commit"
  170  git remote add origin https://github.com/thegodsson/K_s_cmd2.git
  171  git push -u origin master
  172  ls
  173  kubectl exec -ti monpod -c mondebian /bin/bash
  174  history > cmd_k8s.txt
  175  vim pod_emptyDir.yml 
  176  git add cmd_k8s.txt 
  177  git commit -m "update"
  178  git push -u origin master
  179  ls
  180  vim pod_persitentVolume.yml
  181  mkdir -p /pvdata
  182  vim /pvdata/index.html
  183  kubectl apply -f pod_persitentVolume.yml 
  184  vim pod_persitentVolume.yml
  185  kubectl apply -f pod_persitentVolume.yml 
  186  kubectl get pods
  187  vim pod_persitentVolume.yml
  188  kubectl get pv
  189  mv pod_persitentVolume.yml 1_pod_persitentVolume.yml 
  190  vim 2_pod_persitentVolumeClaim.yml
  191  ls
  192  vim source.txt
  193  ls
  194  vim 2_pod_persitentVolumeClaim.yml 
  195  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  196  kubectl get pv
  197  kubectl get pvc
  198  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  199  vim 2_pod_persitentVolumeClaim.yml 
  200  vim 1_pod_persitentVolume.yml 
  201  vim 2_pod_persitentVolumeClaim.yml 
  202  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  203  vim 1_pod_persitentVolume.yml 
  204  ls -l /pvdata/
  205  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  206  vim 1_pod_persitentVolume.yml 
  207  vim 2_pod_persitentVolumeClaim.yml 
  208  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  209  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  210  kubectl get pods -o wide
  211  vim /pvdata/index.html 
  212  cat 1_pod_persitentVolume.yml 
  213  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  214  vim 2_pod_persitentVolumeClaim.yml 
  215  vim 1_pod_persitentVolume.yml 
  216  kubectl get pv
  217  kubectl get pvc
  218  kubectl get pods -o wide
  219  curl 10.244.1.8
  220  ls -l /pvdata/
  221  ls -l /srv/data/index.html 
  222  cp /srv/data/index.html /pvdata/
  223  cat /pvdata/index.html 
  224  curl 10.244.1.8
  225  kubectl get pods -o wide
  226  kubectl delete pods monpod
  227  kubectl delete pods monpods
  228  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  229  kubectl get pods -o wide
  230  ls -l /pvdata/
  231  cat /pvdata/index.html 
  232  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  233  vim 1_pod_persitentVolume.yml 
  234  vim pod_hostPath.yml 
  235  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  236  vim pod_hostPath.yml 
  237  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  238  vim pod_hostPath.yml 
  239  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  240  kubectl delete pods monpods
  241  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  242  kubectl get pods -o wide
  243  kubectl delete pods monpods
  244  kubectl delete pv pv
  245  kubectl get pv
  246  kubectl delete pv monpv
  247  kubectl get pv
  248  kubectl get pvs
  249  kubectl get pv
  250  kubectl delete pv monpv
  251  vim 1_pod_persitentVolume.yml 
  252  vim pod_hostPath.yml 
  253  vim 1_pod_persitentVolume.yml 
  254  vim 2_pod_persitentVolumeClaim.yml 
  255  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  256  vim 1_pod_persitentVolume.yml 
  257  mkdir /pvdata2
  258  cp -p /srv/data/index.html /pvdata2/
  259  ls -l /pvdata2/
  260  kubectl apply -f 1_pod_persitentVolume.yml 
  261  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  262  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  263  kubectl get pods -o wide
  264  kubectl describe pods monpod2 | moremonpod2
  265  kubectl describe pods monpod2 | more
  266  kubectl describe pvs monpvs2
  267  kubectl get pv
  268  kubectl get pvs
  269  kubectl get pvc
  270  kubectl describe pvc monpvs2
  271  kubectl describe pvc monpvc2
  272  kubectl describe pv monpv2
  273  kubectl describe pods monpod2 
  274  cd /pvdata2/
  275  ls
  276  rm index.html 
  277  vim index.html
  278  cd -
  279  vim 1_pod_persitentVolume.yml 
  280  vim 2_pod_persitentVolume.yml 
  281  vim 2_pod_persitentVolumeClaim.yml 
  282  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  283  kubectl exec -ti monpod2 /bin/bash
  284  ls -l 
  285  ls -l /srv/
  286  ls -l /srv/data/
  287  ls -ld /srv
  288  ls -ld /srv/data/
  289  ls -ld /srv/data/index.html 
  290  ls -ld /pvdata2
  291  ls -ld /pvdata2/index.html 
  292  vim 1_pod_persitentVolume.yml 
  293  vim 2_pod_persitentVolumeClaim.yml 
  294  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  295  vim 2_pod_persitentVolumeClaim.yml 
  296  vim 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  297  kubectl get pods
  298  kubectl delete pods monpod2
  299  kubectl get pvc
  300  kubectl delete pvc monpvc2
  301  kubectl get pv
  302  kubectl delete pv monpv2
  303  kubectl get pods
  304  kubectl get pvc
  305  kubectl get pv
  306  kubectl get pvc
  307  kubectl delete pvc monpvc
  308  kubectl get pv
  309  kubectl apply -f 1_pod_persitentVolume.yml 
  310  kubectl apply -f 2_pod_persitentVolumeClaim.yml 
  311  kubectl apply -f 3_utilisation_du_pv_et_pvc_par_le_pod.yml 
  312  kubectl get pods -o wide
  313  rm -rf /pvdata*
  314  ls
  315  ls -la
  316  df -h
  317  df -h | grep tmp
  318  df -h | grep -w tmp
  319  mount -t nfs 192.168.56.1:/srv/exports /tmp
  320  ip a | grep 56
  321  mount -t nfs 192.168.56.102:/srv/exports /tmp
  322  df -h
  323  df -h | grep -w tmp
  324  vim /tmp/test1.txt 
  325  ls
  326  ls -l /tmp/
  327  ls
  328  vim 1_pod_persitentVolume.yml 
  329  cp -p 1_pod_persitentVolume.yml 1_pv_nfs.yml
  330  vim 1_pv_nfs.yml 
  331  kubectl apply -f 1_pv_nfs.yml 
  332  kubectl get pv
  333  cp -p 2_pod_persitentVolumeClaim.yml 2_pvc_nfs.yml
  334  vim 2_pvc_nfs.yml 
  335  kubectl apply -f 2_pvc_nfs.yml 
  336  kubectl get pv,pvc
  337  cp -p 3_utilisation_du_pv_et_pvc_par_le_pod.yml 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  338  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  339  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  340  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  341  kubectl get pv,pvc
  342  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  343  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  344  vim 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  345  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  346  kubectl get pods
  347  kubectl describe nginx-deploy
  348  kubectl describe pods nginx-deploy
  349  kubectl get pods
  350  kubectl delete pods monpod2
  351  kubectl get pvc
  352  kubectl delete pvc monpvc2
  353  kubectl get pv
  354  kubectl delete pv monpv2
  355  kubectl get pv,pvc
  356  kubectl get pods
  357  kubectl delete pods nginx-deploy
  358  kubectl get pods
  359  kubectl get pv,pvc
  360  kubectl delete pvc mynfspvc
  361  kubectl delete pv mynfspv
  362  kubectl get pv,pvc
  363  kubectl apply -f 1_pv_nfs.yml 
  364  kubectl get pv,pvc
  365  kubectl apply -f 2_pvc_nfs.yml 
  366  kubectl get pv,pvc
  367  vim 2_pvc_nfs.yml 
  368  kubectl get pv,pvc
  369  kubectl describe pvc mynfspvc 
  370  kubectl get pv,pvc
  371  vim 2_pvc_nfs.yml 
  372  vim 1_pv_nfs.yml 
  373  kubectl get pv,pvc
  374  kubectl delete pvc mynfspvc 
  375  kubectl delete pv mynfspv 
  376  kubectl get pv,pvc
  377  kubectl apply -f 1_pv_nfs.yml 
  378  kubectl get pv,pvc
  379  kubectl apply -f 2_pvc_nfs.yml 
  380  kubectl get pv,pvc
  381  kubectl apply -f 3_NFS_utilisation_du_pv_et_pvc_par_le_pod.yml 
  382  kubectl get pv,pvc
  383  kubectl get pv,pvc,pods
  384  kubectl get pods -o wide
  385  kubectl exec -ti nginx-deploy /bin/bash
  386  kubectl get pv,pvc,pods
  387  kubectl delete pods nginx-deploy
  388  kubectl get pv,pvc
  389  kubectl delete pvc mynfspvc 
  390  kubectl delete pv mynfspv 
  391  kubectl get pv,pvc,pods
  392  ls
  393  mkdir cas_pratique_pv_pvc
  394  cd cas_pratique_pv_pvc/
  395  cp -p ../1_pv_nfs.yml 1_pv_nfs.yml
  396  vim 1_pv_nfs.yml 
  397  kubectl apply f 1_pv_nfs.yml 
  398  vim 1_pv_nfs.yml 
  399  kubectl apply -f 1_pv_nfs.yml 
  400  kubectl get pv,pvc,pods
  401  cp ../2_pvc_nfs.yml 2_pvc_nfs.yml
  402  vim 2_pvc_nfs.yml 
  403  kubectl apply -f 2_pvc_nfs.yml 
  404  kubectl get pv,pvc,pods
  405  vim 3_pods.yml
  406  mv 3_pods.yml 3_pod_mysql.yml
  407  vim 3_pod_mysql.yml 
  408  kubectl apply -f 3_pod_mysql.yml 
  409  vim 3_pod_mysql.yml 
  410  kubectl get pv,pvc,pods
  411  vim 3_pod_mysql.yml 
  412  kubectl apply -f 3_pod_mysql.yml 
  413  vim 3_pod_mysql.yml 
  414  kubectl get pv,pvc,pods
  415  vim 3_pod_mysql.yml 
  416  kubectl apply -f 3_pod_mysql.yml 
  417  kubectl get pv,pvc,pods
  418  kubectl get pv,pvc
  419  kubectl get pv,pvc,pods
  420  kubectl describe pods mysql-deploy 
  421  kubectl describe pods mysql-deploy | more
  422  apt-get install mysql-client
  423  kubectl get pods -o wide
  424  mysql -h 10.244.1.14 -u root -p
  425  vim 3_pod_mysql.yml 
  426  mysql -h 10.244.1.14 -u root -p
  427  vim 3_pod_mysql.yml 
  428  kubectl get pods -o wide
  429  kubectl delete pods mysql-deploy 
  430  ls
  431  vim 3_pod_mysql.yml 
  432  cp -p 3_pod_mysql.yml 3_pod_mysql_V2.yml 
  433  vim 3_pod_mysql_V2.yml 
  434  kubectl apply -f 3_pod_mysql.yml 
  435  kubectl get pods -o wide
  436  vim 3_pod_mysql_V2.yml 
  437  ls
  438  mkdir cas1
  439  mv *.yml cas1/
  440  mkdir cas2
  441  cd cas2/
  442  ls
  443  vim nginx.yml
  444  ls
  445  cp -p ../cas1/3_pod_mysql.yml nginx.yml
  446  vim nginx.yml 
  447  kubectl apply -f nginx.yml 
  448  vim nginx.yml 
  449  kubectl apply -f nginx.yml 
  450  kubectl get pods -o wide
  451  cp nginx.yml debian.yml
  452  vim debian.yml 
  453  kubectl get pods -o wide
  454  kubectl apply -f debian.yml 
  455  kubectl get pods -o wide
  456  vim debian.yml 
  457  kubectl delete pods debian-deploy 
  458  vim debian.yml 
  459  kubectl apply -f debian.yml 
  460  kubectl get pods
  461  kubectl get pods -o wide
  462  kubectl exec -ti debian-deploy /bin/bash
  463  kubectl get pods -o wide
  464  kubectl delete pods debian-deploy
  465  kubectl get pods -o wide
  466  kubectl exec -ti nginx-deploy bin/bash
  467  cd ..
  468  ls
  469  cd ..
  470  ls
  471  mkdir replicaset
  472  cd replicaset/
  473  vim nginx.yml
  474  mv nginx.yml rs_nginx.yml
  475  vim rs_nginx.yml 
  476  kubectl apply -f rs_nginx.yml 
  477  vim rs_nginx.yml 
  478  kubectl apply -f rs_nginx.yml 
  479  kubectl get replicaset 
  480  kubectl get replicaset -o wide
  481  kubectl describe rs monrs 
  482  kubectl get pods
  483  kubectl get pods -o yaml
  484  kubectl get pods -o yaml | more
  485  ls
  486  cd ..
  487  ls
  488  cat cmd_k8s.txt 
  489  ls
  490  cd replicaset/
  491  kubectl get rs
  492  kubectl delete rs monrs 
  493  kubectl get pods
  494  kubectl get pods -n kube-system 
  495  kubectl apply -f rs_nginx.yml 
  496  kubectl get pods
  497  kubectl get rs
  498  kubectl get pods
  499  vim rs_nginx.yml 
  500  kubectl get pods
  501  kubectl delete pods --all
  502  kubectl get rs
  503  kubectl delete rs monrs 
  504  kubectl get rs
  505  kubectl get pods
  506  kubectl apply -f rs_nginx.yml 
  507  kubectl get rs
  508  kubectl get pods
  509  vim rs_nginx.yml 
  510  kubectl get pods
  511  kubectl get rs
  512  kubectl get pods
  513  kubectl describe pods monrs-69n7k
  514  kubectl delete rs monrs 
  515  kubectl delete pods --all
  516  kubectl apply -f rs_nginx.yml 
  517  kubectl get pods
  518  kubectl get rs
  519  kubectl get pods
  520  kubectl delete pods monrs-8zvrl
  521  kubectl get pods
  522  kubectl delete pods --all
  523  kubectl get pods
  524  kubectl delete rs monrs 
  525  kubectl get pods
  526  kubectl get rs
  527  vim pods.yml
  528  kubectl apply -f pods.yml 
  529  kubectl get pods
  530  ls
  531  mv rs_nginx.yml 1_rs_nginx.yml 
  532  mv pods.yml 2_pods.yml 
  533  cp 1_rs_nginx.yml 3_rs_nginx.yml 
  534  vim 3_rs_nginx.yml 
  535  kubectl get pods
  536  kubectl apply -f 3_rs_nginx.yml 
  537  kubectl get 
  538  kubectl get pods
  539  kubectl get rs
  540  kubectl get pods
  541  cat 2_pods.yml 
  542  cat 3_rs_nginx.yml 
  543  kubectl get pods
  544  kubectl get s
  545  kubectl get rs
  546  kubectl delete rs front2 
  547  kubectl get pods
  548  cd ..
  549  ls
  550  mkdir pv_pvs_pod
  551  mv 1_p* pv_pvs_pod/
  552  ls
  553  mv 2_p* pv_pvs_pod/
  554  ls
  555  mv 3_* pv_pvs_pod/
  556  ls
  557  cat pod_emptyDir.yml 
  558  ls
  559  cat source.txt 
  560  ls
  561  mkdir configmaps_secrets
  562  mv configmaps_secrets configmaps_secrets_1
  563  ls
  564  cd configmaps_secrets_1/
  565  ls
  566  kubectl create configmap langue --from-literal=LANGUAGE=Fr
  567  kubectl get configmap
  568  kubectl get configmap langue 
  569  kubectl describe configmap langue 
  570  kubectl create secret generic mysql_password --from-literal=MYSQL_PASSWORD=monmotdepasse
  571  kubectl create secret generic mysqlpassword --from-literal=MYSQL_PASSWORD=monmotdepasse
  572  kubectl describe secret langue 
  573  kubectl describe secret mysqlpassword 
  574  kubectl get secret mysqlpassword 
  575  kubectl delete configmap langue
  576  kubectl create configmap langue --from-literal=LANGUAGE=Fr --from-literal=ENCODING=UTF-8
  577  kubectl get configmap langue
  578  kubectl describe configmap langue
  579  kubectl get configmap
  580  vim maconf.cfg
  581  kubectl get configmap
  582  kubectl describe configmap langue
  583  ls
  584  cat maconf.cfg 
  585  kubectl describe configmap langue
  586  history 
  587  kubectl create configmap maconfiguration --from-file=maconf.cfg 
  588  kubectl get configmap
  589  kubectl describe configmaps maconfiguration 
  590  kubectl edit configmap maconfiguration 
  591  kubectl describe configmaps maconfiguration 
  592  kubectl create configmap maconfiguration --from-literal=LANGUAGE=Es -o yaml --dry-run | kubectl replace -f -
  593  kubectl describe configmaps maconfiguration 
  594  ls
  595  cd ..
  596  mkdir configmaps_secrets_2
  597  cd configmaps_secrets_2/
  598  vim 1_personne.yml
  599  mv 1_personne.yml configmap.yml
  600  vim configmap.yml 
  601  kubectl apply -f configmap.yml 
  602  vim configmap.yml 
  603  kubectl apply -f configmap.yml 
  604  kubectl get configmap 
  605  kubectl describe configmap personne 
  606  cat ../source.txt 
  607  ls
  608  mv configmap.yml 1_configmap.yml 
  609  vim 2_configmap.yml
  610  kubectl get configmap 
  611  kubectl describe configmap personne 
  612  ls
  613  mv 2_configmap.yml 2_pod.yml
  614  kubectl apply -f 2_pod.yml 
  615  kubectl get configmap 
  616  kubectl describe configma
  617  kubectl describe configmap personne 
  618  kubectl get pods
  619  kubectl describe pods monpod 
  620  kubectl delete pods monpod 
  621  vim 2_pod.yml 
  622  kubectl apply -f 2_pod.yml 
  623  kubectl describe pods monpod 
  624  vim 2_pod.yml 
  625  kubectl describe pods monpod 
  626  kubectl delete pods monpod 
  627  kubectl apply -f 2_pod.yml 
  628  kubectl describe pods monpod 
  629  kubectl get pods
  630  kubectl describe pods monpod 
  631  kubectl get pods
  632  kubectl delete pods monpod 
  633  vim 2_pod.yml 
  634  kubectl get pods
  635  kubectl apply -f 2_pod.yml 
  636  kubectl get pods
  637  kubectl describe pods monpod 
  638  kubectl describe configmap personne 
  639  kubectl logs monpod 
  640  kubectl delete pods monpod 
  641  ls
  642  cp -p 2_pod.yml 3_pod.yml 
  643  vim 3_pod.yml 
  644  vim 2_pod.yml 
  645  vim 3_pod.yml 
  646  kubectl apply -f 3_pod.yml 
  647  kubectl get pods
  648  kubectl logs monpod 
  649  ls
  650  vim 4_volume_fichier.yml
  651  mv 4_volume_fichier.yml 4_maconf.yml
  652  vim 4_maconf.yml 
  653  kubectl apply -f 4_maconf.yml 
  654  kubectl describe configmap hello
  655  kubectl delete pod
  656  kubectl get pods
  657  kubectl delete pod monpod 
  658  ls
  659  kubectl get configmap
  660  ls
  661  vim 5_pods.yml
  662  ls
  663  vim 5_pods.yml
  664  kubectl get configmap
  665  kubectl describe configmap hello 
  666  kubectl apply -f 5_pods.yml 
  667  kubectl get pods
  668  kubectl get pods -o wide
  669  kubectl describe configmap hello 
  670  vim 5_pods.yml
  671  kubectl delete pods monpod 
  672  kubectl apply -f 5_pods.yml 
  673  kubectl get pods -o wide
  674  kubectl exec -ti 10.244.1.47 /bin/bash
  675  kubectl exec -ti -name 10.244.1.47 /bin/bash
  676  kubectl exec -ti monpod /bin/bash
  677  kubectl get pods -o wide
  678  kubectl delete pods monpod 
  679  ls
  680  mv 5_pods.yml 5_pods_fichier.yml 
  681  cp -p 5_pods_fichier.yml 6_pods_repertoire.yml 
  682  vim 6_pods_repertoire.yml 
  683  vim index.html
  684  vim david.html
  685  ls
  686  kubectl create configmap mondir --from-file=index.html --from-file=david.html 
  687  kubectl get configmap
  688  kubectl describe configmap mondir 
  689  vim 6_pods_repertoire.yml 
  690  kubectl apply -f 6_pods_repertoire.yml 
  691  kubectl get pods
  692  kubectl get pods -o wide~
  693  kubectl get pods -o wide
  694  cd ..
  695  mkdir deploiments
  696  cd deploiments/
  697  ls
  698  cd ..
  699  ls
  700  cd deploiments/
  701  ls
  702  vim ngnix.yml
  703  vim 1_ngnix.yml
  704  mv 1_ngnix.yml 1_deploy.yml 
  705  vim 1_deploy.yml 
  706  kubectl apply -f 1_deploy.yml 
  707  kubectl get deploy
  708  kubectl get deploy -o wide
  709  kubectl get deploy
  710  ls
  711  vim 2_service.yml
  712  kubectl get deploy
  713  kubectl get deploy -o wide
  714  kubectl get pods -o wide
  715  vim 2_service.yml
  716  kubectl apply -f 2_service.yml 
  717  kubectl get service
  718  kubectl get service -o wide
  719  ls
  720  vim 1_deploy.yml 
  721  ls
  722  cp -p 1_deploy.yml 2_deploy.yml 
  723  vim 2_deploy.yml 
  724  kubectl apply -f 2_deploy.yml 
  725  ls
  726  mkdir rolling_update
  727  mv *.yml rolling_update/
  728  ls
  729  mkdir recreate
  730  cd recreate/
  731  ls
  732  vim 1_deploy.yml
  733  cd ..
  734  ls
  735  cd ..
  736  ls
  737  vim cas_pratique_pv_pvc/cas1/1_pv_nfs.yml 
  738  vim cas_pratique_pv_pvc/cas2/nginx.yml 
  739  vim cas_pratique_pv_pvc/cas2/debian.yml 
  740  vim cas_pratique_pv_pvc/cas1/2_pvc_nfs.yml 
  741  vim cas_pratique_pv_pvc/cas1/3_pod_mysql.yml 
  742  vim cas_pratique_pv_pvc/cas1/3_pod_mysql_V2.yml 
  743  cd deploiments/
  744  ls
  745  cd recreate/
  746  vim 1_deploy.yml 
  747  ls
  748  kubectl apply -f 1_deploy.yml 
  749  kubectl delete pods monpod 
  750  cd ..
  751  ls
  752  mv rolling_update 1
  753  mv recreate 2_recreate
  754  mkdir rolling_update
  755  ls
  756  ls -l
  757  cd rolling_update/
  758  ls
  759  vim 1_deploy.yml
  760  kubectl delete deploy myfirstdeploy 
  761  vim 1_deploy.yml
  762  kubectl apply -f 1_deploy.yml 
  763  ls
  764  ls -l
  765  kubectl get deploy
  766  ls
  767  cat ../1/2_service.yml 
  768  cp ../1/2_service.yml .
  769  ls
  770  vim 2_service.yml 
  771  vim 1_deploy.yml 
  772  cp 1_deploy.yml 2_deploy.yml 
  773  vim 2_deploy.yml 
  774  ls
  775  kubectl apply -f 2_deploy.yml 
  776  cp 2_deploy.yml 3_deploy.yml 
  777  vim 3_deploy.yml 
  778  ls
  779  cat 1_deploy.yml 
  780  cat 2_deploy.yml 
  781  vim 3_deploy.yml 
  782  kubectl apply -f 3_deploy.yml 
  783  vim 3_deploy.yml 
  784  kubectl get pods
  785  vim 3_deploy.yml 
  786  kubectl apply -f 3_deploy.yml 
  787  vim 3_deploy.yml 
  788  kubectl apply -f 3_deploy.yml 
  789  vim 3_deploy.yml 
  790  ls
  791  kubectl delete deploy myfirstdeploy 
  792  vim 3_deploy.yml 
  793  kubectl apply -f 3_deploy.yml 
  794  ls
  795  cp -p 3_deploy.yml 4_deploy_update_version.yml 
  796  kubectl get deploy
  797  kubectl rollout status deployment myfirstdeploy 
  798  ls -l
  799  vim 4_deploy_update_version.yml 
  800  kubectl apply -f 4_deploy_update_version.yml 
  801  kubectl rollout pause deployment myfirstdeploy 
  802  kubectl rollout resume deployment myfirstdeploy 
  803  kubectl rollout status deployment myfirstdeploy 
  804  kubectl rollout history deployment myfirstdeploy 
  805  kubectl rollout history deployment myfirstdeploy --revision 1
  806  kubectl rollout history deployment myfirstdeploy --revision 2
  807  kubectl rollout undo deployment myfirstdeploy 
  808  kubectl rollout status deployment myfirstdeploy 
  809  kubectl rollout history deployment myfirstdeploy 
  810  cd ../..
  811  cat cmd_k8s.txt 
  812  history >> cmd_k8s.txt 
  813  vim cmd_k8s.txt 
  814  cd -
  815  ls
  816  kubectl rollout history deployment myfirstdeploy 
  817  kubectl rollout undo deployment myfirstdeploy --to-revision=2
  818  kubectl rollout history deployment myfirstdeploy 
  819  cd ../../
  820  history >> cmd_k8s.txt 
  821  vim cmd_k8s.txt 
  822  cd -
  823  kubectl rollout status deployment myfirstdeploy 
  824  cd ..
  825  mkdir statefulset
  826  cd statefulset/
  827  vim 1.yml
  828  exit
  829  kubectl get node
  830  kubectl get node -o wide
  831  ls
  832  ls -l
  833  ls -lart
  834  mkdir stateful
  835  cd stateful/
  836  ls
  837  vim 1_pv.yml
  838  ls
  839  vim 1_pv.yml
  840  kubectl get nodes -o wide
  841  vim 1_pv.yml
  842  kubectl get nodes -o wide
  843  vim 1_pv.yml
  844  vim 2.yml
  845  kubectl get nodes -o wide
  846  vim 2.yml
  847  kubectl get nodes -o wide
  848  iptables -L
  849  vim 2.yml
  850  ls
  851  rm 2.yml 
  852  vim 1_pv.yml 
  853  ping 192.168.56.103
  854  kubectl get pods -n kube-system 
  855  ip -a | more
  856  ip a | more
  857  kubeadm init --apiserver-advertise-address=192.168.56.101  --node-name $HOSTNAME --pod-network-cidr=10.244.0.0/16
  858  kubectl get pods -n kube-system 
  859  kubectl get nodes -o wide
  860  ip a
  861  kubectl get nodes -o wide
  862  cat /etc/kubernetes/pki/sa.key 
  863  kubeadm token list
  864  kubeadm --help
  865  kubeadm token create --ttl=0
  866  kubeadm token list
  867  kubectl get nodes -o wide
  868  cd ..
  869  history >> cmd_k8s.txt 
